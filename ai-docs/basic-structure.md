# Базовая структура проекта

Этот документ описывает базовую структуру проекта `senana/langchain`.

## Обзор

Проект предназначен для взаимодействия с большими языковыми моделями (LLM) через сервис Ollama. Он имеет модульную структуру с четким разделением ответственности для конфигурации, управления моделями и логики приложения.

## Структура директорий

Основной код проекта находится в `senana/langchain/`. Ниже представлен обзор ключевых директорий и их назначение:

### `senana/langchain/app/`

Эта директория предназначена для точки входа приложения, вероятно веб-сервиса.

-   **`app/main.py`**: Главный файл для запуска приложения (например, FastAPI приложение). В настоящее время пустой.
-   **`app/api/v1/`**: Эта поддиректория предназначена для хранения определений API.
    -   **`endpoints.py`**: Содержит определения API эндпоинтов. В настоящее время пустой.

### `senana/langchain/configs/`

Эта директория содержит все конфигурационные файлы проекта.

-   **`llm_config.yml`**: Основной конфигурационный файл для LLM. Он определяет:
    -   Модель по умолчанию и список альтернативных моделей.
    -   Параметры по умолчанию и специфичные для модели (например, `temperature`, `top_p`).
    -   Детали подключения к серверу Ollama (`base_url`, `timeout`).
-   **`prompts.yml`**: Предназначен для хранения шаблонов промптов. В настоящее время пустой.

### `senana/langchain/src/`

Это основная директория исходного кода, организованная в подмодули.

#### `src/core/`

Этот модуль предназначен для основной бизнес-логики приложения. Файлы в настоящее время являются пустыми заглушками.

-   **`agents.py`**: Предназначен для определения AI агентов.
-   **`orchestration.py`**: Предназначен для оркестрации рабочих процессов между различными компонентами.
-   **`pipelines.py`**: Предназначен для определения конвейеров обработки данных.

#### `src/data_processing/`

Этот модуль предназначен для получения и предварительной обработки данных. Файлы в настоящее время являются пустыми заглушками.

-   **`ingestion.py`**: Для загрузки данных из различных источников.
-   **`preprocessing.py`**: Для очистки и преобразования данных.

#### `src/llm/`

Это наиболее разработанный модуль, отвечающий за все взаимодействия с LLM.

-   **`model_loader.py`**: Содержит `ModelLoader`, класс, отвечающий за:
    -   Подключение к серверу Ollama.
    -   Загрузку LLM моделей с использованием `langchain-ollama`.
    -   Проверку доступных моделей на сервере.
-   **`model_registry.py`**: Содержит `ModelRegistry`, класс, который:
    -   Загружает определения моделей из `llm_config.yml`.
    -   Управляет реестром всех известных моделей и их метаданных.
    -   Отслеживает доступность моделей.
-   **`model_configurator.py`**: Содержит `ModelConfigurator`, класс для:
    -   Создания конфигураций времени выполнения для моделей.
    -   Объединения параметров по умолчанию с специфичными для модели и пользовательскими переопределениями.

#### `src/utils/`

Этот модуль содержит утилитарные классы и функции, используемые в проекте.

-   **`config_loader.py`**: Предоставляет `ConfigLoader` для загрузки YAML конфигурационных файлов. Включает логику для поиска конфигурационных файлов в различных местах проекта.
-   **`config_manager.py`**: Синглтон класс `ConfigManager`, который обеспечивает централизованный доступ к значениям конфигурации из `llm_config.yml` и других конфигурационных файлов.
-   **`parsers.py`**: Предназначен для функций парсинга данных. В настоящее время пустой.

### Корневые файлы

-   **`pyproject.toml`**: Файл определения проекта для управления зависимостями с помощью инструментов типа Poetry или Rye. В настоящее время пустой.
-   **`requirements.txt`**: Стандартный файл зависимостей Python.
